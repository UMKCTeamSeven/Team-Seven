/*!
* Make Breakable Text
* 
* Written with jQuery 1.6.4 and tested on this version
* Should work with all versions of jQuery.
*
*
* This will add zero-width spaces into every text node in the jQuery object at the requested intervals.
* http://www.fileformat.info/info/unicode/char/200b/index.htm
* This will allow long strings to be broken in to multiple lines if their container is narrower than the string width.
* 
* Basically keeps really long strings from breaking your layout.
* 
* Example
* 
* $('<p>thisIsAReallyLongStringWithNoBreaksAndWillMangleYourLayout</p>').makeBreakableText(5).appendTo('body');
* will create:
* <body>
* <p>thisI&#8203;sARea&#8203;llyLo&#8203;ngStr&#8203;ingWi&#8203;thNoB&#8203;reaks&#8203;AndWi&#8203;llMan&#8203;gleYo&#8203;urLay&#8203;out</p>
* </body>
* 
* 
* If no interval is passed, this will default to every 12 spaces
*
* version 1.0
* May 21, 2012
* GK
*
*
*/
(function(n){n.fn.makeBreakableText=function(t){t=t||12;var i=function(r){r.each(function(){var u,r;if(this.hasChildNodes()&&this.nodeName!=="SCRIPT"&&i(n(this.childNodes)),this.nodeType===3){for(u=[],r=0;r<this.nodeValue.length;r++)u.push(this.nodeValue.charAt(r)),r%t==t-1&&u.push("â€‹");this.nodeValue=u.join("")}})};return i(this),this}})(jQuery);
$(function(){var r=ch9.functions,t=r.Resources,n=".commentform",u="videoJumpTo",f=function(n){var t=n.attr("href"),i=t.indexOf("#"),r;return i>0&&(r=t.substring(i+1)),r},i=function(t){tinyMCE&&tinyMCE.activeEditor?tinyMCE.activeEditor.execCommand("mceInsertContent",!1,t,!0):$(n+" textarea").val(t)};if(typeof $.scrollTo!="undefined"&&location.href.indexOf("/Edit")>0)try{$(window).scrollTo(n)}catch(e){}$(".post .post-header .attachments a").bind("click",function(){return confirm(t.getString("JsCommentsConfirmFileDownload"))});$(".post .reply.button").bind("click",function(){var t=$(this),r=t.attr("href"),u=t.closest("li").data("author");return i('@<a href="'+r+'">'+u+"<\/a>:"),typeof $.scrollTo!="undefined"&&$(window).scrollTo(n),!1});$(".post .quote.button").bind("click",function(){var y=t.getString("JsCommentsSnip"),r=[],p=$(this),l=f(p),e;if(!l)return!0;var o=$("#"+l),a=o.find(".post-header .permalink").wrap("<div>"),s=a.parent().html();a.unwrap();var v=o.siblings(".author"),h=v.find(".name").html(),c=v.find("a").attr("href"),u=o.find(".post-content").clone();return u.find("blockquote").replaceWith(y),u.find("p:empty").remove(),u.find("form").remove(),e=u.html(),e&&e.length>0&&(r.push("[quote]"),s&&s.length>0&&(r.push("<p>",s),h&&h.length>0&&c&&c.length>0&&r.push(', <a href="',c,'">',h,"<\/a> wrote"),r.push("<\/p>")),r.push(e,"[/quote]"),i(r.join("")),typeof $.scrollTo!="undefined"&&$(window).scrollTo(n)),!1});$("form.spam input.submit").bind("click",function(){var n=$(this).parents("form"),i=$(n).attr("action"),r=$(n).serialize();return $.ajax({type:"POST",url:i,data:r,dataType:"json",success:function(){$(n).before('<span class="markedSpam">'+t.getString("JsCommentsMarkedAsSpam")+"<\/span>");$(n).remove()},error:function(){}}),!1});$(n).on("submit",function(n){try{if(!ch9.functions.helpers)return;var t=ch9.functions.helpers.getTimeCodeFromPosition();t&&$(n.target).attr("action",$.setURLParam(u,t))}catch(i){}})});$.lald(".post-content a","click",function(){try{var t=$(this).attr("href"),n;if(t.indexOf(location.pathname+"#c")>-1)return n=t.substring(t.indexOf("#")),window.location.href=$(n).length?n:location.pathname+"/"+n.substring(2),!1}catch(i){}});$.lald("button.cancel","click",function(){var n=$(this).data("cancelurl");return n!=null&&n.length>0&&(window.location.href=n),!1});$.lald("form","submit",function(n){try{$(n.target).find('input[type="submit"]').each(function(){var n=$(this);n.attr("disabled","disabled");setTimeout(function(){n.removeAttr("disabled")},1e4)})}catch(t){}});
(function(n){var l=ch9.functions,i=l.Resources,e=500,f={},r={},u="userUberInfo",a="#d2730d",v="rgb(210, 115, 13)",y=function(n){return"/niners/"+encodeURIComponent(n)+"/tooltipjson"},p=function(n){return"//widgets.membership.s-msft.com/v1/user/usercard/?id="+n},w=function(n){return"/niners/"+encodeURIComponent(n)+"/achievements/visualstudio"},b=function(n,t){return"/niners/"+encodeURIComponent(n)+"/achievements/visualstudio/"+t},k=function(n){return n+"/ToggleMSDNProfileDisplay"},o=300,d=75;$userUberInfo=n(".userUberInfo");$userUberInfo.children(".error, .info, .enable").hide();$userUberInfo.find(".ch9.info").find("p, dl, dt, dd").hide();$userUberInfo.find(".achievements.info").find("p, a.profile, div.latest").hide();$userUberInfo.find(".msdn.info").find("p, a.website, ul, li, .dataTransfer, .recentAchievement").hide();var t=function(n,t,i){n.children("."+t).not(".icon").hide().filter("."+i).show()},g=function(i,r){var o=i.siblings("."+u),e,f;return o.length?o.first():(e=n.trim(n(".userUberInfoTemplate").html()),e&&e.length>0?(f=n(e).insertAfter(i),r.hasAchievements||f.find(".achievements").hide(),r.MSDNId===""&&(r.isSelf&&f.find(".msdn.enable").length?t(f,"msdn","enable"):f.find(".msdn").hide()),f):[])},s=function(n,r,u){n=n||{};var f=n.ch9,o=n.vsAchievements,e=u.find(".ch9.info"),s=u.find(".achievements.info"),h=!1;f?e.data("complete")||(e.find(".profile").html(f.userName).attr("href",f.profileUrl).makeBreakableText(),f.memberDate&&e.find(".memberDate").html(String.format(i.getString("JsUberInfoNinerSince"),f.memberDate)).show(),f.caption&&e.find(".caption").text(f.caption).show(),f.twitter&&e.find(".followus").show().children("a").attr("href","http://twitter.com/"+f.twitter).text(f.twitter),f.links&&e.find(".links").html(f.links).makeBreakableText().show(),f.bio&&e.find(".bio").html(f.bio).show(),f.userEntries&&(e.find(".counts .userEntries").show().filter("dd").find("a").attr("href",f.userEntriesUrl).text(f.userEntries),h=!0),f.userComments&&(e.find(".counts .userComments").show().filter("dd").find("a").attr("href",f.userCommentsUrl).text(f.userComments),h=!0),f.userPosts&&(e.find(".counts .userPosts").show().filter("dd").find("a").attr("href",f.userPostsUrl).text(f.userPosts),h=!0),h&&e.find(".counts").show(),t(u,"ch9","info"),e.data("complete",!0)):(t(u,"ch9","error"),e.data("complete",!0));r.hasAchievements&&(o?s.data("complete")||(s.find(".profile").attr("href",w(r.userName)).show(),o.TotalScore&&s.find(".points").html(String.format(i.getString("JsUberInfoAchievementsScore"),o.TotalScore)).show(),o.Achievements&&o.Achievements.length&&s.find(".latest").show().find("img").attr("src",o.Achievements[0].IconSmall).siblings(".description").find("a").attr("href",b(r.userName,o.Achievements[0].Name)).text(o.Achievements[0].FriendlyName).siblings("span").html(o.Achievements[0].Description),t(u,"achievements","info"),s.data("complete",!0)):(t(u,"achievements","error"),s.data("complete",!0)))},nt=function(i,r){f[i.userName]?s(f[i.userName],i,r):n.getJSON(y(i.userName)).done(function(n){f[i.userName]=n;s(n,i,r)}).fail(function(){t(r,"ch9","error")})},h=function(n,r,u){var f,o,s,e;if(n=n||{},f=u.find(".msdn.info"),o=!1,n.DisplayName&&n.Profile){if(!f.data("complete")){if(f.children(".profile").text(n.DisplayName).attr("href",n.Profile),f.find(".links .threads").attr("href",n.Profile+"activity"),f.find(".links .profile").attr("href",n.Profile),f.find(".links").show(),n.Points&&f.find(".points").html(String.format(i.getString("JsUberInfoMSDNScore"),n.Points)).show(),n.Website&&f.find(".website").text(n.Website).attr("href",n.Website).makeBreakableText(30).show(),n.Company&&f.find(".company").html(String.format(i.getString("JsUberInfoCompany"),n.Company)).show(),n.Biography&&f.find(".biography").text(n.Biography).show(),n.Achievements&&(n.Achievements.Gold&&(f.find(".achievements .gold").html("<span><\/span>"+n.Achievements.Gold).show(),n.Achievements.Gold!="0"&&(o=!0)),n.Achievements.Silver&&(f.find(".achievements .silver").html("<span><\/span>"+n.Achievements.Silver).show(),n.Achievements.Silver!="0"&&(o=!0)),n.Achievements.Bronze&&(f.find(".achievements .bronze").html("<span><\/span>"+n.Achievements.Bronze).show(),n.Achievements.Bronze!="0"&&(o=!0)),n.Achievements.Recent&&n.Achievements.Recent.length)){s=n.Achievements.Recent[0];e="";switch(s.Medal){case"Gold":e="gold";break;case"Silver":e="silver";break;case"Bronze":e="bronze"}e.length&&f.find(".recentAchievement").show().children("div.achievement").addClass(e).children("div").text(s.Title)}o&&f.find(".achievements").show();r.isSelf&&f.find(".dataTransfer").show().find("p").show();t(u,"msdn","info");f.data("complete",!0)}}else t(u,"msdn","error"),f.data("complete",!0)},c=function(i,u){i.MSDNId!==""&&(r[i.userName]?h(r[i.userName],i,u):n.ajax({url:p(i.MSDNId),dataType:"jsonp",timeout:"5000"}).done(function(n){for(var t in n)if(n.hasOwnProperty(t)){n=n[t];break}r[i.userName]=n;h(n,i,u)}).fail(function(){t(u,"msdn","error")}))},tt=function(n){try{if(n&&n.length){var t=n.parents(".hasUberInfo").data("uberinfo");t&&t.userName&&($holder=g(n,t),$holder.length&&(n.css("backgroundColor")===a||n.css("backgroundColor")===v||n.is(":hover")||n.parent().is(":hover"))&&($holder.fadeIn(d),nt(t,$holder),c(t,$holder)))}}catch(i){}};n(function(){var i;n(".author.hasUberInfo").hover(function(){var r=n(this).data("uberinfo_mq"),t;Modernizr&&r&&!Modernizr.mq(r)||(t=n(this).children("a.button"),n(".userUberInfo").fadeOut(o),i=setTimeout(function(){tt(t)},e-10),Modernizr.csstransitions||t.css({"background-position":"-10px"}).animate({"background-position-x":"132px"},e))},function(){clearTimeout(i);Modernizr.csstransitions||n(this).children("a.button").stop(!0);n(".userUberInfo").fadeOut(o)});n(document).on("click",".author.hasUberInfo .msdn .dataTransfer a",function(i){i.preventDefault();var e=n(this),f=e.parents("."+u),o=n(this).attr("href");t(f,"msdn","loading");n.ajax({type:"POST",dataType:"json",url:k(o)}).done(function(i){try{if(i&&i.success){var e=f.parents(".hasUberInfo").data("uberinfo");if(e.userName&&e.userName.length)if(r[e.userName]=null,f.find(".msdn.info").data("complete",!1),i.MsdnProfileId&&i.MsdnProfileId.length)e.MSDNId=i.MsdnProfileId,c(e,f),n(".hasUberInfo").each(function(){n(this).data("uberinfo").isSelf&&(n(this).data("uberinfo").MSDNId=e.MSDNId)});else if(e.isSelf)n(".hasUberInfo").each(function(){n(this).data("uberinfo").isSelf&&(n(this).data("uberinfo").MSDNId="",n(this).children("."+u).find(".msdn.info").data("complete",!1),t(n(this).children("."+u),"msdn","enable"))});else throw"NoMSNId";else throw"NoUberinfo";}else throw"NoSuccess";}catch(o){t(f,"msdn","error")}}).fail(function(){t(f,"msdn","error")})})})})(jQuery);